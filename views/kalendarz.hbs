<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="Width=device-width, initial-scale = 1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">

    <link href='https://fullcalendar.io/releases/fullcalendar/3.9.0/fullcalendar.min.css' rel='stylesheet' />

    <link href='https://fullcalendar.io/releases/fullcalendar/3.9.0/fullcalendar.print.min.css' rel='stylesheet'
        media='print' />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src='https://fullcalendar.io/releases/fullcalendar/3.9.0/lib/moment.min.js'></script>
    <script src='https://fullcalendar.io/releases/fullcalendar/3.9.0/lib/jquery.min.js'></script>
    <script src='https://fullcalendar.io/releases/fullcalendar/3.9.0/fullcalendar.min.js'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min
    .js'></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(document).ready(function () {
            var konsultacje = {{{consultation}}};
            var eventy = konsultacje.map(element =>{
                return {
                    title: 'ssss',
                    start: element.date_start + 'T' + element.hour_start
                };
            });
            $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month,basicWeek,basicDay'
                },
                defaultDate: '2020-10-20',
                navLinks: true, // can click day/week names to navigate views
                editable: true,
                eventLimit: true, // allow "more" link when too many events
                //events:  eventy, 
                events: eventy,
                eventClick: function (calEvent, jsEvent, view, resourceObj) {
                    swal({
                        title: calEvent.title,
                        text: "Start From : " + moment(calEvent.start).format("MMMM Do YYYY, h:mm a"),
                        icon: "success",
                    });
                }
            });
            $(".fc-right .fc-button-group").append(
                '<div class="input-group datetimepicker"><input type="text" class="form-control fc-datepicker" placeholder="YYYY-MM-DD" style="padding: 0;width: 0;border: none;margin: 0;"></div>');
            $(".fc-datepicker").datepicker({
                dateFormat: 'yy-mm-dd',
                showOn: "button",
                buttonText: '<span class="input-group-addon"><i class="fas fa-calendar-alt"></i></span>'
            });
        });
    </script>
    
    <title>Konsultacje</title>
</head>


<body>
    <nav>

        
        <h4>Kalendarz</h4>
        <ul>
            <li><a href="/profil">Profil</a></li>
            <li><a href="/kalendarz">Kalendarz konsultacji</a></li>
            <li><a href="/auth/wyloguj">Wyloguj</a></li>
        </ul>
    </nav>
</body>
<div id='calendar'></div>

</html>